<% content_for :title, "PuntoClave - Predicciones de Tenis" %>

<!-- Compact intro: hero removed per request -->
<div class="container text-center mb-4">
  <div class="row">
    <div class="col-lg-8 mx-auto">
      <h1 class="display-5 fw-bold mb-2" style="color:var(--brand);">PuntoClave</h1>
      <p class="lead text-muted">Predicciones de tenis con datos reales y un toque de IA.</p>
      <div class="d-flex justify-content-center gap-2 mt-3">
        <%= link_to "Comenzar Predicción", predict_path, class: "btn btn-primary btn-lg px-4" %>
        <button class="btn btn-outline-secondary btn-lg px-4" onclick="scrollToHowItWorks()">¿Cómo Funciona?</button>
      </div>
    </div>
  </div>
</div>

<div class="container">
  <!-- How it works section -->
  <section id="how-it-works" class="mb-5">
    <div class="row">
      <div class="col-lg-8 mx-auto text-center">
        <h2 class="display-5 fw-bold mb-4">¿Cómo Funciona PuntoClave?</h2>
        <p class="lead text-muted mb-5">
          Nuestra inteligencia artificial analiza múltiples factores para determinar qué jugador tiene más probabilidades de ganar
        </p>
      </div>
    </div>
    
    <div class="row g-4">
      <div class="col-md-6 col-lg-3">
        <div class="card h-100 text-center border-0 shadow-sm">
          <div class="card-body">
            <div class="feature-icon bg-primary bg-gradient text-white rounded-3 mb-3 mx-auto" style="width: 4rem; height: 4rem; display: flex; align-items: center; justify-content: center;">
              <i class="fas fa-chart-line"></i>
            </div>
            <h5 class="card-title">Ranking ATP</h5>
            <p class="card-text">Analizamos las posiciones actuales en el ranking mundial y puntos ATP de cada jugador</p>
          </div>
        </div>
      </div>
      
      <div class="col-md-6 col-lg-3">
        <div class="card h-100 text-center border-0 shadow-sm">
          <div class="card-body">
            <div class="feature-icon bg-success bg-gradient text-white rounded-3 mb-3 mx-auto" style="width: 4rem; height: 4rem; display: flex; align-items: center; justify-content: center;">
              <i class="fas fa-history"></i>
            </div>
            <h5 class="card-title">Historial H2H</h5>
            <p class="card-text">Evaluamos el historial de enfrentamientos directos entre los dos jugadores</p>
          </div>
        </div>
      </div>
      
      <div class="col-md-6 col-lg-3">
        <div class="card h-100 text-center border-0 shadow-sm">
          <div class="card-body">
            <div class="feature-icon bg-warning bg-gradient text-white rounded-3 mb-3 mx-auto" style="width: 4rem; height: 4rem; display: flex; align-items: center; justify-content: center;">
              <i class="fas fa-fire"></i>
            </div>
            <h5 class="card-title">Forma Reciente</h5>
            <p class="card-text">Consideramos el rendimiento en los últimos 10 partidos de cada jugador</p>
          </div>
        </div>
      </div>
      
      <div class="col-md-6 col-lg-3">
        <div class="card h-100 text-center border-0 shadow-sm">
          <div class="card-body">
            <div class="feature-icon bg-info bg-gradient text-white rounded-3 mb-3 mx-auto" style="width: 4rem; height: 4rem; display: flex; align-items: center; justify-content: center;">
              <i class="fas fa-brain"></i>
            </div>
            <h5 class="card-title">IA Avanzada</h5>
            <p class="card-text">Algoritmo de machine learning que combina todos los factores con pesos optimizados</p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Process steps -->
  <section class="mb-5">
    <div class="row">
      <div class="col-lg-8 mx-auto">
        <h3 class="text-center mb-4">Proceso Simple en 3 Pasos</h3>
        <div class="row g-4">
          <div class="col-md-4 text-center">
            <div class="step-number bg-primary text-white rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 3rem; height: 3rem;">
              <span class="fw-bold">1</span>
            </div>
            <h5>Selecciona Jugadores</h5>
            <p class="text-muted">Elige dos jugadores de la ATP para comparar</p>
          </div>
          <div class="col-md-4 text-center">
            <div class="step-number bg-primary text-white rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 3rem; height: 3rem;">
              <span class="fw-bold">2</span>
            </div>
            <h5>IA Analiza</h5>
            <p class="text-muted">Nuestro algoritmo procesa todos los datos relevantes</p>
          </div>
          <div class="col-md-4 text-center">
            <div class="step-number bg-primary text-white rounded-circle mx-auto mb-3 d-flex align-items-center justify-content-center" style="width: 3rem; height: 3rem;">
              <span class="fw-bold">3</span>
            </div>
            <h5>Obtén Predicción</h5>
            <p class="text-muted">Recibe el pronóstico y ve futuros enfrentamientos</p>
          </div>
        </div>
      </div>
    </div>
  </section>
  
  <!-- Stats section -->
  <section class="bg-light rounded p-5 mb-5">
    <div class="row text-center">
      <div class="col-md-4 mb-4 mb-md-0">
        <h3 class="display-6 fw-bold text-primary"><%= Player.count %></h3>
        <p class="text-muted">Jugadores ATP</p>
      </div>
      <div class="col-md-4 mb-4 mb-md-0">
        <h3 class="display-6 fw-bold text-success"><%= Match.count %></h3>
        <p class="text-muted">Partidos Analizados</p>
      </div>
      <div class="col-md-4">
        <h3 class="display-6 fw-bold text-warning"><%= Prediction.count %></h3>
        <p class="text-muted">Predicciones Realizadas</p>
      </div>
    </div>
  </section>

  <!-- CTA section -->
  <section class="text-center mb-5">
    <div class="row">
      <div class="col-lg-6 mx-auto">
        <h3 class="mb-4">¿Listo para Encontrar al Ganador?</h3>
        <p class="text-muted mb-4">
          Perfecta para decidir qué partido ver cuando los boletos son caros. 
          Descubre qué jugador tiene más probabilidades de ganar.
        </p>
        <%= link_to predict_path, class: "btn btn-primary btn-lg px-5" do %>
          <i class="fas fa-play me-2"></i>Comenzar Ahora
        <% end %>
      </div>
    </div>
  </section>
  
  <!-- Próximos partidos -->
  <section class="mb-5">
    <div class="row">
      <div class="col-lg-10 mx-auto">
        <h3 class="mb-3">Próximos partidos</h3>
        <h5 class="text-muted mb-3">Partidos ATP Analizados</h5>
        <div class="table-responsive">
          <table class="table table-striped align-middle">
            <thead>
              <tr>
                <th>Fecha</th>
                <th>Torneo</th>
                <th>Jugador 1</th>
                <th>Jugador 2</th>
                <th>Superficie</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>2025-10-06</td>
                <td>ESPN Tournament</td>
                <td>Olivia Gadecki</td>
                <td>John Peers</td>
                <td><span class="badge bg-primary">Hard</span></td>
              </tr>
              <tr>
                <td>2025-10-06</td>
                <td>ESPN Tournament</td>
                <td>Harri Heliovaara</td>
                <td>Henry Patten</td>
                <td><span class="badge bg-success">Grass</span></td>
              </tr>
              <tr>
                <td>2025-10-06</td>
                <td>ESPN Tournament</td>
                <td>Marcelo Arevalo</td>
                <td>Mate Pavic</td>
                <td><span class="badge bg-warning text-dark">Clay</span></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
  </section>
</div>

<script>
function scrollToHowItWorks() {
  document.getElementById('how-it-works').scrollIntoView({ 
    behavior: 'smooth' 
  });
}
</script>

<style>
.feature-icon { transition: transform 0.22s ease; }
.feature-icon:hover { transform: scale(1.08); }
.card { transition: transform 0.25s ease, box-shadow 0.25s ease; }
.card:hover { transform: translateY(-6px); box-shadow: 0 0.6rem 1.1rem rgba(0,0,0,0.12) !important; }
.step-number { font-size: 1.2rem; }
/* Use app palette for feature colors */
.feature-icon.bg-primary { background: linear-gradient(90deg, var(--brand), #0056d6) !important; }
.feature-icon.bg-success { background: linear-gradient(90deg, var(--green), #16a085) !important; }
.feature-icon.bg-warning { background: linear-gradient(90deg, var(--orange), #ff9500) !important; }
.feature-icon.bg-info { background: linear-gradient(90deg, #17a2b8, #20c997) !important; }
</style>
